{"ast":null,"code":"import _slicedToArray from \"/Users/franc_p/Development/trello-forms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/franc_p/Development/trello-forms/src/Dashboard.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Dashboard.css\";\nimport { auth, db, logout } from \"./firebase\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\nfunction Dashboard() {\n  var _useAuthState = useAuthState(auth),\n    _useAuthState2 = _slicedToArray(_useAuthState, 3),\n    user = _useAuthState2[0],\n    loading = _useAuthState2[1],\n    error = _useAuthState2[2];\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var navigate = useNavigate();\n  /**\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n  */\n  useEffect(function () {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    //fetchUserName();\n  }, [user, loading]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 8\n    }\n  }, \"Logged in as\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 10\n    }\n  }, user?.displayName), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"dashboard__btn\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 10\n    }\n  }, \"Logout\")));\n}\nexport default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useAuthState","useNavigate","auth","db","logout","query","collection","getDocs","where","Dashboard","user","loading","error","name","setName","navigate","displayName"],"sources":["/Users/franc_p/Development/trello-forms/src/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Dashboard.css\";\nimport { auth, db, logout } from \"./firebase\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\nfunction Dashboard() {\n  const [user, loading, error] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n  /**\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n  */\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    //fetchUserName();\n  }, [user, loading]);\n  return (\n    <div className=\"dashboard\">\n       <div className=\"dashboard__container\">\n        Logged in as\n         <div>{user?.displayName}</div>\n         <button className=\"dashboard__btn\" onClick={logout}>\n          Logout\n         </button>\n       </div>\n     </div>\n  );\n}\nexport default Dashboard;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,YAAY,QAAQ,2BAA2B;AACxD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,iBAAiB;AACxB,SAASC,IAAI,EAAEC,EAAE,EAAEC,MAAM,QAAQ,YAAY;AAC7C,SAASC,KAAK,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AACtE,SAASC,SAAS,GAAG;EAAA,oBACYT,YAAY,CAACE,IAAI,CAAC;IAAA;IAA1CQ,IAAI;IAAEC,OAAO;IAAEC,KAAK;EAAA,gBACHb,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7Bc,IAAI;IAAEC,OAAO;EACpB,IAAMC,QAAQ,GAAGd,WAAW,EAAE;EAC9B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEH,SAAS,CAAC,YAAM;IACd,IAAIa,OAAO,EAAE;IACb,IAAI,CAACD,IAAI,EAAE,OAAOK,QAAQ,CAAC,GAAG,CAAC;IAC/B;EACF,CAAC,EAAE,CAACL,IAAI,EAAEC,OAAO,CAAC,CAAC;EACnB,oBACE;IAAK,SAAS,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACvB;IAAK,SAAS,EAAC,sBAAsB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gCAEnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAMD,IAAI,EAAEM,WAAW,CAAO,eAC9B;IAAQ,SAAS,EAAC,gBAAgB;IAAC,OAAO,EAAEZ,MAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAE1C,CACL,CACF;AAEX;AACA,eAAeK,SAAS"},"metadata":{},"sourceType":"module"}